{{ block title }}
Your decision
{{ endblock }}

{{ block content }}

For each of the following scenarios, please state the number of tokens that you wish to return to your partner.
Remember that your partner will choose an amount to send to you and then your decision for that amount will be executed and
your payment for this stage will be decided by this.


<br>
<br>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* Center the table on the page */
        table {
            margin: auto;
            width: 70%; /* Adjust width as needed */
            border-collapse: collapse;
        }

        /* Center the text within the table cells */
        th, td {
            text-align: center;
            padding: 15px;
            border: none; /* No borders */
        }

        th {
            background-color: #f2f2f2;
        }

        /* Ensure that dropdowns are centered in the cell */
        select {
            width: 100%;
        }

        /* Add vertical spacing between table rows */
        tbody tr {
            margin-bottom: 20px; /* Adds vertical space between rows */
        }

        /* Style for the submit button */
        #submitButton {
            display: block;
            margin: auto;
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }

        #submitButton:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>

    <table>
        <thead>
            <tr>
                <th>Tokens your partner transfers</th>
                <th>Tokens you receive</th>
                <th>Tokens you wish to return</th>
                <th>Your token balance</th>
                <th>Your partner's balance</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>0</td>
                <td>0</td>
                <td>N/A</td>
                <td>0</td>
                <td>5</td>
            </tr>
            <tr>
                <td>1</td>
                <td>3</td>
                <td>
                    <select name="return1" id="return1" onchange="updateBalances()">
                        <option value="" disabled selected>...</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                    </select>
                </td>
                <td id="balance1">3</td>
                <td id="partnerBalance1">4</td>
            </tr>
            <tr>
                <td>2</td>
                <td>6</td>
                <td>
                    <select name="return2" id="return2" onchange="updateBalances()">
                        <option value="" disabled selected>...</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                    </select>
                </td>
                <td id="balance2">6</td>
                <td id="partnerBalance2">3</td>
            </tr>
            <tr>
                <td>3</td>
                <td>9</td>
                <td>
                    <select name="return3" id="return3" onchange="updateBalances()">
                        <option value="" disabled selected>...</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                    </select>
                </td>
                <td id="balance3">9</td>
                <td id="partnerBalance3">2</td>
            </tr>
            <tr>
                <td>4</td>
                <td>12</td>
                <td>
                    <select name="return4" id="return4" onchange="updateBalances()">
                        <option value="" disabled selected>...</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select>
                </td>
                <td id="balance4">12</td>
                <td id="partnerBalance4">1</td>
            </tr>
            <tr>
                <td>5</td>
                <td>15</td>
                <td>
                    <select name="return5" id="return5" onchange="updateBalances()">
                        <option value="" disabled selected>...</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                    </select>
                </td>
                <td id="balance5">15</td>
                <td id="partnerBalance5">0</td>
            </tr>
        </tbody>
    </table>

    <!-- Submit button -->
    <button id="submitButton" disabled>Submit</button>

    <script>
        function updateBalances() {
            for (let i = 1; i <= 5; i++) {
                let returnSelect = document.getElementById('return' + i);
                let tokensTransferred = parseInt(returnSelect.parentElement.parentElement.children[0].innerText);
                let tokensReceived = parseInt(returnSelect.parentElement.parentElement.children[1].innerText);
                let tokensReturned = parseInt(returnSelect.value) || 0; // Default to 0 if value is empty
                let balanceCell = document.getElementById('balance' + i);
                let partnerBalanceCell = document.getElementById('partnerBalance' + i);

                // Calculate and update token balances
                let yourTokenBalance = tokensReceived - tokensReturned;
                let partnersBalance = 5 - tokensTransferred + tokensReturned;

                balanceCell.innerText = yourTokenBalance;
                partnerBalanceCell.innerText = partnersBalance;
            }

            // Enable or disable the submit button based on all selections
            checkAllSelections();
        }

        function checkAllSelections() {
            let allSelected = true;
            for (let i = 1; i <= 5; i++) {
                let select = document.getElementById('return' + i);
                if (select.value === "") {
                    allSelected = false;
                    break;
                }
            }
            document.getElementById('submitButton').disabled = !allSelected;
        }
    </script>

</body>
</html>




<br><br>


{{ endblock}}